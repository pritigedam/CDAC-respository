<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Network Request and Data Processing</title>
</head>
<body>
    <h1>Simulate a Network Request and Process Data</h1>
    <div id="output"></div> <!-- This div will display the output -->

    <script>
        // Function to simulate fetching data from a URL
        function fetchData(url, callback) {
            console.log(`Fetching data from: ${url}`);

            setTimeout(() => {
                const isError = Math.random() < 0.1; // 10% chance of error

                if (isError) {
                    callback(`Error fetching data from ${url}`); // Pass error to callback
                } else {
                    callback(null, `Response from ${url}`); // Pass response to callback
                }
            }, 2000); // 2-second delay
        }

        // Function to process the fetched data
        function processData(data) {
            const processedData = data.toUpperCase(); // Convert data to uppercase
            console.log(`Processed data: ${processedData}`); // Log processed data
            return processedData; // Return processed data
        }

        // Function to handle the response and process the data
        function handleResponse(error, response) {
            if (error) {
                console.log(error); // Log the error
                document.getElementById('output').textContent = error; // Display error
            } else {
                const processedData = processData(response); // Process the response
                document.getElementById('output').textContent = processedData; // Display processed data
            }
        }

        // Example URL
        const url = 'https://example.com/api/data';
        // Call fetchData with the URL and handleResponse as the callback
        fetchData(url, handleResponse);
    </script>
</body>
</html>
